# A comment.
Node "TestNode" {
    scale:    .2 .2 .2,
    rotation: 1 0 0 45,
    translation: -2 0 0,
    # top_radius: 1000,  # Uncomment to test error...
    state_table: StateTable {
        #clear_color: .3 .3 .4 1,
        #disable_cap: "kDepthTest",
        disable_cap: "kCullFace",
    },
    shapes: [
        Cylinder "Cyl" {
            top_radius:    2,
            bottom_radius: 3,
            height:        4,
        },
    ],
    children: [
        Node "Child1" {
            scale:    2.4 2.4 2.4,
            translation: 5 12 0,
            shader: Shader "TestShader" {
                uniform_defs: [
                    UniformDef "uMyColor"   { type: "kFloatVector4Uniform" },
                    UniformDef "uMyTexture" { type: "kTextureUniform" },
                ],
                vertex_program:   "vtest.glsl",
                fragment_program: "ftest.glsl",
            },
            uniforms: [
                Uniform "uMyColor"   { vec4f_val: .9 .7 .7 1 },
                Uniform "uMyTexture" {
                    texture_val: Texture {
                        image_file: "stripes.png",
                        sampler : Sampler {
                            wrap_s_mode: "kRepeat",
                            wrap_t_mode: "kClampToEdge",
                        },
                    },
                },
            ],
            shapes: [
                Cylinder "Cyl2" {
                    top_radius:    2,
                    bottom_radius: 3,
                    height:        4,
                    has_top_cap:   False,
                    sector_count:  8,
                },
            ],
        },
        Node "Child2" {
            scale:    4 5 6,
            translation: 5 -8 0,
            shapes: [
                Ellipsoid "Ell1" {
                    size:            4 1 2,
                    longitude_start: 20,
                    longitude_end:   350.5,
                    latitude_start:  -85,
                    latitude_end:    75,
                },
            ],
        },
        Node "Child3" {
            # enabled: False,
            scale:    4 5 6,
            translation: 16 -8 0,
            shapes: [
                Rectangle "Rect1" {
                    plane_normal: "kPositiveZ",
                    size:         1 .3,
                },
            ],
        },
        Node "Child4" {
            scale:    .4 .4 .4,
            translation: 20 2 0,
            shapes: [
                Box "Box1" {
                    size:  5 2 3,
                },
            ],
        },
        Node "Child5" {
            scale:    4 5 6,
            translation: 16 15 0,
            shapes: [
                Polygon "Hex" {
                    sides:         6,
                    plane_normal: "kPositiveZ",
                },
            ],
        },
    ],
}
